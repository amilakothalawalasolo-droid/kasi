<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Report - {{.User.ProjectName}}</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; color: #333; max-width: 800px; margin: 0 auto; padding: 20px; }
        h1, h2, h3 { text-align: center; margin-bottom: 5px; }
        .dates { text-align: center; color: #666; margin-bottom: 30px; }
        .box { border: 2px solid #000; padding: 15px; margin-bottom: 20px; border-radius: 8px; }
        .big-total { font-size: 2em; font-weight: bold; text-align: center; color: #4F46E5; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th { background: #eee; text-align: left; padding: 10px; border-bottom: 2px solid #000; }
        td { padding: 10px; border-bottom: 1px solid #ddd; }
        .money { text-align: right; font-weight: bold; }
        .no-print { text-align: center; margin-bottom: 20px; }
        button { padding: 10px 20px; background: #4F46E5; color: white; border: none; cursor: pointer; font-size: 1.1em; border-radius: 5px; }
        @media print { .no-print { display: none; } body { padding: 0; } .box { border: 1px solid #000; } }
    </style>
</head>
<body>
    <div class="no-print"><a href="/" style="text-decoration:none; margin-right: 20px;">‚Üê Back</a><button onclick="window.print()">üñ®Ô∏è Print / Save as PDF</button></div>
    <h1>{{.User.ProjectName}}</h1><h3 style="font-weight: normal;">Expense Report</h3>
    <div class="dates">{{if .FilterStart}}From: {{.FilterStart}} To: {{.FilterEnd}}{{else}}All Time History{{end}}</div>
    <div class="box"><div style="text-align: center;">Total Expenses</div><div class="big-total">{{.User.Currency}} {{.ReportTotal}}</div></div>
    <h3>Summary by Category</h3>
    <table><tr><th>Category</th><th style="text-align:right;">Amount</th></tr>{{range .ReportSummary}}<tr><td>{{.Category}}</td><td class="money">{{$.User.Currency}} {{.Total}}</td></tr>{{end}}</table>
    <h3>Detailed List</h3>
    <table><tr><th>Date</th><th>Item</th><th>Category</th><th style="text-align:right;">Cost</th></tr>{{range .Common}}<tr><td style="font-size: 0.9em; color:#666;">{{.Date}}</td><td>{{.Item}} <span style="font-size:0.8em; color:#999;">({{.Username}})</span></td><td><span style="background:#eee; padding:2px 5px; font-size:0.8em; border-radius:4px;">{{.Category}}</span></td><td class="money">{{$.User.Currency}} {{.Amount}}</td></tr>{{end}}</table>
    <div style="text-align: center; margin-top: 50px; font-size: 0.8em; color: #999;">Generated by Kasi App on {{.Today}}</div>
</body>
</html>
